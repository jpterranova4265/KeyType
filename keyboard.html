<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Big Keyboard</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    height: 100vh;
    background: #fff;
    font-weight: bold; /* All text bold */
  }

  #display {
    flex: 0 0 20%;
    background: #e0e0e0;
    font-size: 6vw; /* Starting size */
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    overflow-wrap: break-word;
    word-break: break-word;
  }

  #keyboard, #menu {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    padding: 10px;
  }

  .row {
    display: flex;
    justify-content: center;
    margin: 5px 0;
  }

  .key {
    flex: 1;
    margin: 3px;
    font-size: 8vw;
    padding: 20px;
    text-align: center;
    background: black;
    color: white;
    border-radius: 8px;
    user-select: none;
    cursor: pointer;
    font-weight: bold;
  }

  .key:active {
    background: #333;
  }

  .wide {
    flex: 2;
  }

  .menu-btn {
    font-size: 4vw;
    padding: 30px;
    background: black;
    color: white;
    border-radius: 8px;
    margin: 20px;
    font-weight: bold;
  }
</style>
</head>
<body>

<div id="display"></div>

<!-- Menu Screen -->
<div id="menu">
  <div style="flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center;">
    <div class="menu-btn" onclick="chooseLayout('ABCD')">ABC Layout</div>
    <div class="menu-btn" onclick="chooseLayout('QWERTY')">QWERTY Layout</div>
  </div>
</div>

<!-- Keyboard -->
<div id="keyboard" style="display:none;"></div>

<script>
  const display = document.getElementById('display');
  const keyboardDiv = document.getElementById('keyboard');
  const menuDiv = document.getElementById('menu');
  let text = "";
  let currentLayout = "ABCD";

  const layouts = {
    ABCD: [
      ["A","B","C","D","E","F","G"],
      ["H","I","J","K","L","M","N"],
      ["O","P","Q","R","S","T","U"],
      ["V","W","X","Y","Z"]
    ],
    QWERTY: [
      ["Q","W","E","R","T","Y","U","I","O","P"],
      ["A","S","D","F","G","H","J","K","L"],
      ["Z","X","C","V","B","N","M"]
    ]
  };

  const numberRow = ["1","2","3","4","5","6","7","8","9","0"];
  const controlRow = ["SPACE","DELETE","CLEAR","READ","MENU"];

  function chooseLayout(layout) {
    currentLayout = layout;
    menuDiv.style.display = "none";
    keyboardDiv.style.display = "flex";
    buildKeyboard();
  }

  function backToMenu() {
    keyboardDiv.style.display = "none";
    menuDiv.style.display = "flex";
  }

  function buildKeyboard() {
    keyboardDiv.innerHTML = "";

    layouts[currentLayout].forEach(row => {
      const rowDiv = document.createElement("div");
      rowDiv.className = "row";
      row.forEach(key => {
        const keyDiv = document.createElement("div");
        keyDiv.className = "key";
        keyDiv.innerText = key;
        keyDiv.onclick = () => pressKey(key);
        rowDiv.appendChild(keyDiv);
      });
      keyboardDiv.appendChild(rowDiv);
    });

    // Numbers
    const numRowDiv = document.createElement("div");
    numRowDiv.className = "row";
    numberRow.forEach(num => {
      const keyDiv = document.createElement("div");
      keyDiv.className = "key";
      keyDiv.innerText = num;
      keyDiv.onclick = () => pressKey(num);
      numRowDiv.appendChild(keyDiv);
    });
    keyboardDiv.appendChild(numRowDiv);

    // Control Row
    const controlRowDiv = document.createElement("div");
    controlRowDiv.className = "row";
    controlRow.forEach(c => {
      const keyDiv = document.createElement("div");
      keyDiv.className = "key wide";
      keyDiv.innerText = c;
      keyDiv.onclick = () => handleControl(c);
      controlRowDiv.appendChild(keyDiv);
    });
    keyboardDiv.appendChild(controlRowDiv);
  }

  function pressKey(val) {
    text += val;
    updateDisplay();
  }

  function handleControl(action) {
    if (action === "SPACE") {
      text += " ";
    } else if (action === "DELETE") {
      text = text.slice(0, -1);
    } else if (action === "CLEAR") {
      text = "";
    } else if (action === "READ") {
      if ('speechSynthesis' in window) {
        const utter = new SpeechSynthesisUtterance(text);
        speechSynthesis.speak(utter);
      }
    } else if (action === "MENU") {
      backToMenu();
    }
    updateDisplay();
  }

  function updateDisplay() {
    display.innerText = text;

    // Auto shrink/grow font size depending on length
    let size = 6; // vw
    if (text.length > 30) size = 4;
    if (text.length > 60) size = 3;
    if (text.length > 100) size = 2;
    display.style.fontSize = size + "vw";
  }
</script>

</body>
</html>
